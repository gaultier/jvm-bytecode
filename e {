
[34mΔ class_file.h[0m
[34m───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────[0m

[34m───────────────────────────────────────────────[0m[34m┐[0m
[34m•[0m [34m2623[0m:[38;2;40;40;40m [38;2;66;123;88mcf_write_verification_info[38;2;40;40;40m(FILE [38;2;66;123;88m*[38;2;40;40;40mfile, [0m[34m│[0m
[34m───────────────────────────────────────────────[0m[34m┘[0m
[34m[38;2;68;68;68m2623[34m⋮[38;2;68;68;68m2623[34m│[38;2;40;40;40m  [38;2;66;123;88mpg_assert[38;2;40;40;40m(file [38;2;66;123;88m!=[38;2;40;40;40m [38;2;143;63;113mNULL[38;2;40;40;40m);[0m
[34m[38;2;68;68;68m2624[34m⋮[38;2;68;68;68m2624[34m│[38;2;40;40;40m  [38;2;66;123;88mpg_assert[38;2;40;40;40m(verification_info.[38;2;7;102;120mkind[38;2;40;40;40m [38;2;66;123;88m<=[38;2;40;40;40m [38;2;143;63;113m8[38;2;40;40;40m);[0m
[34m[38;2;68;68;68m2625[34m⋮[38;2;68;68;68m2625[34m│[0m
[34m[38;5;88m2626[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m  [48;2;255;192;192mif [48;2;255;224;224m(verification_info.kind[48;2;255;192;192m < 7[48;2;255;224;224m)[48;2;255;192;192m {[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m2627[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m  [48;2;255;192;192m  file_write_u8[48;2;255;224;224m([48;2;255;192;192mfile, [48;2;255;224;224mverification_info.kind)[48;2;255;192;192m;[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m2628[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m  } else {[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m2629[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m    pg_assert(0 && "todo");[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m2626[34m│[48;2;208;255;208;38;2;40;40;40m  [48;2;160;239;160;38;2;66;123;88mfile_write_u8[48;2;208;255;208;38;2;40;40;40m([48;2;160;239;160mfile, [48;2;208;255;208mverification_info.[38;2;7;102;120mkind[38;2;40;40;40m)[48;2;160;239;160m;[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m2627[34m│[48;2;208;255;208;38;2;40;40;40m  [48;2;160;239;160;38;2;157;0;6mif[38;2;40;40;40m [48;2;208;255;208m(verification_info.[38;2;7;102;120mkind[48;2;160;239;160;38;2;40;40;40m [38;2;66;123;88m>=[38;2;40;40;40m [38;2;143;63;113m7[48;2;208;255;208;38;2;40;40;40m)[48;2;160;239;160m {[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m2628[34m│[48;2;208;255;208;38;2;40;40;40m    [38;2;66;123;88mfile_write_be_u16[38;2;40;40;40m(file, verification_info.[38;2;7;102;120mextra_data[38;2;40;40;40m);[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m2630[34m⋮[38;2;68;68;68m2629[34m│[38;2;40;40;40m  }[0m
[34m[38;2;68;68;68m2631[34m⋮[38;2;68;68;68m2630[34m│[38;2;40;40;40m}[0m
[34m[38;2;68;68;68m2632[34m⋮[38;2;68;68;68m2631[34m│[0m

[34m──────────────────────────────────────────────────────────[0m[34m┐[0m
[34m•[0m [34m4905[0m:[38;2;40;40;40m [38;2;157;0;6mstatic[38;2;40;40;40m [38;2;157;0;6mvoid[38;2;40;40;40m [38;2;121;116;14mcg_begin_scope[38;2;40;40;40m(cg_generator_t [38;2;66;123;88m*[38;2;40;40;40mgen) { [0m[34m│[0m
[34m──────────────────────────────────────────────────────────[0m[34m┘[0m
[34m[38;2;68;68;68m4906[34m⋮[38;2;68;68;68m4905[34m│[38;2;40;40;40m  gen->frame->scope_depth [38;2;66;123;88m+=[38;2;40;40;40m [38;2;143;63;113m1[38;2;40;40;40m;[0m
[34m[38;2;68;68;68m4907[34m⋮[38;2;68;68;68m4906[34m│[38;2;40;40;40m}[0m
[34m[38;2;68;68;68m4908[34m⋮[38;2;68;68;68m4907[34m│[0m
[34m[38;5;88m4909[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224mstatic void stack_map_add_frame([48;2;255;192;192mconst [48;2;255;224;224mcg_frame_t *frame,[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m4908[34m│[48;2;208;255;208;38;2;157;0;6mstatic[38;2;40;40;40m [38;2;157;0;6mvoid[38;2;40;40;40m [38;2;121;116;14mstack_map_add_frame[38;2;40;40;40m(cg_frame_t [38;2;66;123;88m*[38;2;40;40;40mframe,[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m4910[34m⋮[38;2;68;68;68m4909[34m│[38;2;40;40;40m                                cf_stack_map_frame_t [38;2;66;123;88m**[38;2;40;40;40mstack_map_frames,[0m
[34m[38;2;68;68;68m4911[34m⋮[38;2;68;68;68m4910[34m│[38;2;40;40;40m                                u16 current_offset, arena_t [38;2;66;123;88m*[38;2;40;40;40marena) {[0m
[34m[38;2;68;68;68m4912[34m⋮[38;2;68;68;68m4911[34m│[38;2;40;40;40m  [38;2;66;123;88mpg_assert[38;2;40;40;40m(frame [38;2;66;123;88m!=[38;2;40;40;40m [38;2;143;63;113mNULL[38;2;40;40;40m);[0m

[34m─────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m•[0m [34m4976[0m:[38;2;40;40;40m [38;2;157;0;6mstatic[38;2;40;40;40m [38;2;157;0;6mvoid[38;2;40;40;40m [38;2;121;116;14mstack_map_add_frame[38;2;40;40;40m([38;2;157;0;6mconst[38;2;40;40;40m cg_frame_t [38;2;66;123;88m*[38;2;40;40;40mframe, [0m[34m│[0m
[34m─────────────────────────────────────────────────────────────────[0m[34m┘[0m
[34m[38;2;68;68;68m4977[34m⋮[38;2;68;68;68m4976[34m│[0m
[34m[38;2;68;68;68m4978[34m⋮[38;2;68;68;68m4977[34m│[38;2;40;40;40m  cg_frame_t [38;2;66;123;88m*[38;2;157;0;6mconst[38;2;40;40;40m frame_clone [38;2;66;123;88m=[38;2;40;40;40m [38;2;66;123;88mcg_frame_clone[38;2;40;40;40m(frame, arena);[0m
[34m[38;2;68;68;68m4979[34m⋮[38;2;68;68;68m4978[34m│[38;2;40;40;40m  [38;2;66;123;88mpg_array_last[38;2;40;40;40m([38;2;66;123;88m*[38;2;40;40;40mstack_map_frames)->frame [38;2;66;123;88m=[38;2;40;40;40m frame_clone;[0m
[34m[38;5;88m    [34m⋮[38;5;28m4979[34m│[48;2;208;255;208;38;2;40;40;40m  frame->previous_frame [38;2;66;123;88m=[38;2;40;40;40m frame_clone;[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m4980[34m⋮[38;2;68;68;68m4980[34m│[38;2;40;40;40m}[0m
[34m[38;2;68;68;68m4981[34m⋮[38;2;68;68;68m4981[34m│[0m
[34m[38;2;68;68;68m4982[34m⋮[38;2;68;68;68m4982[34m│[38;2;157;0;6mstatic[38;2;40;40;40m [38;2;157;0;6mvoid[38;2;40;40;40m [38;2;121;116;14mcg_frame_drop_current_scope_variables[38;2;40;40;40m(cg_frame_t [38;2;66;123;88m*[38;2;40;40;40mframe) {[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m•[0m [34m5080[0m:[38;2;40;40;40m [38;2;157;0;6mstatic[38;2;40;40;40m [38;2;157;0;6mvoid[38;2;40;40;40m [38;2;121;116;14mcg_emit_if_then_else[38;2;40;40;40m(cg_generator_t [38;2;66;123;88m*[38;2;40;40;40mgen, par_parser_t [38;2;66;123;88m*[38;2;40;40;40mparser, [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[34m[38;2;68;68;68m5080[34m⋮[38;2;68;68;68m5080[34m│[38;2;40;40;40m  [38;2;146;131;116m// Emit `then` branch.[0m
[34m[38;2;68;68;68m5081[34m⋮[38;2;68;68;68m5081[34m│[38;2;40;40;40m  [38;2;146;131;116m// Save a clone of the frame before the `then` branch since we need it[0m
[34m[38;2;68;68;68m5082[34m⋮[38;2;68;68;68m5082[34m│[38;2;40;40;40m  [38;2;146;131;116m// later.[0m
[34m[38;5;88m5083[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m  [48;2;255;192;192mconst [48;2;255;224;224mcg_frame_t *const frame_before_then_else =[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m5084[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m      cg_frame_clone(gen->frame, arena);[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5083[34m│[48;2;208;255;208;38;2;40;40;40m  cg_frame_t [38;2;66;123;88m*[38;2;157;0;6mconst[38;2;40;40;40m frame_before_then_else [38;2;66;123;88m=[48;2;160;239;160;38;2;40;40;40m [38;2;66;123;88mcg_frame_clone[38;2;40;40;40m(gen->frame, arena);[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m5085[34m⋮[38;2;68;68;68m5084[34m│[0m
[34m[38;2;68;68;68m5086[34m⋮[38;2;68;68;68m5085[34m│[38;2;40;40;40m  [38;2;66;123;88mcg_emit_node[38;2;40;40;40m(gen, parser, class_file, rhs->lhs, arena);[0m
[34m[38;2;68;68;68m5087[34m⋮[38;2;68;68;68m5086[34m│[38;2;40;40;40m  [38;2;157;0;6mconst[38;2;40;40;40m u16 jump_from_i [38;2;66;123;88m=[38;2;40;40;40m [38;2;66;123;88mcf_asm_jump[38;2;40;40;40m([38;2;66;123;88m&[38;2;40;40;40mgen->code->code, gen->frame, arena);[0m
[34m[38;2;68;68;68m5088[34m⋮[38;2;68;68;68m5087[34m│[0m
[34m[38;2;68;68;68m5089[34m⋮[38;2;68;68;68m5088[34m│[38;2;40;40;40m  [38;2;146;131;116m// Save a clone of the frame after the `then` branch executed so that we can[0m
[34m[38;2;68;68;68m5090[34m⋮[38;2;68;68;68m5089[34m│[38;2;40;40;40m  [38;2;146;131;116m// generate a stack map frame later.[0m
[34m[38;5;88m5091[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m  [48;2;255;192;192mconst[48;2;255;224;224m cg_frame_t *const frame_after_then = cg_frame_clone(gen->frame, arena);[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5090[34m│[48;2;208;255;208;38;2;40;40;40m   cg_frame_t [38;2;66;123;88m*[38;2;157;0;6mconst[38;2;40;40;40m frame_after_then [38;2;66;123;88m=[38;2;40;40;40m [38;2;66;123;88mcg_frame_clone[38;2;40;40;40m(gen->frame, arena);[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m5092[34m⋮[38;2;68;68;68m5091[34m│[0m
[34m[38;2;68;68;68m5093[34m⋮[38;2;68;68;68m5092[34m│[38;2;40;40;40m  [38;2;146;131;116m// Emit `else` branch.[0m
[34m[38;2;68;68;68m5094[34m⋮[38;2;68;68;68m5093[34m│[38;2;40;40;40m  [38;2;146;131;116m// Restore the frame as if the `then` branch never executed.[0m

[34m────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m•[0m [34m5306[0m:[38;2;40;40;40m [38;2;157;0;6mstatic[38;2;40;40;40m [38;2;157;0;6mvoid[38;2;40;40;40m [38;2;121;116;14mcg_emit_node[38;2;40;40;40m(cg_generator_t [38;2;66;123;88m*[38;2;40;40;40mgen, par_parser_t [38;2;66;123;88m*[38;2;40;40;40mparser, [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[34m[38;2;68;68;68m5307[34m⋮[38;2;68;68;68m5306[34m│[38;2;40;40;40m    gen->frame [38;2;66;123;88m=[38;2;40;40;40m [38;2;66;123;88marena_alloc[38;2;40;40;40m(arena, [38;2;143;63;113m1[38;2;40;40;40m, [38;2;66;123;88msizeof[38;2;40;40;40m(cg_frame_t));[0m
[34m[38;2;68;68;68m5308[34m⋮[38;2;68;68;68m5307[34m│[38;2;40;40;40m    [38;2;66;123;88mcg_frame_init[38;2;40;40;40m(gen->frame, arena);[0m
[34m[38;2;68;68;68m5309[34m⋮[38;2;68;68;68m5308[34m│[0m
[34m[38;5;88m    [34m⋮[38;5;28m5309[34m│[48;2;208;255;208;38;2;40;40;40m    [38;2;157;0;6mconst[38;2;40;40;40m u16 function_args_string [38;2;66;123;88m=[38;2;40;40;40m [38;2;66;123;88mcf_add_constant_cstring[38;2;40;40;40m([0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5310[34m│[48;2;208;255;208;38;2;40;40;40m        [38;2;66;123;88m&[38;2;40;40;40mclass_file->constant_pool, "[38;2;121;116;14m[Ljava/lang/String;[38;2;40;40;40m");[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5311[34m│[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5312[34m│[48;2;208;255;208;38;2;40;40;40m    [38;2;157;0;6mconst[38;2;40;40;40m cf_constant_t functions_args_class [38;2;66;123;88m=[38;2;40;40;40m {[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5313[34m│[48;2;208;255;208;38;2;40;40;40m        .[38;2;7;102;120mkind[38;2;40;40;40m [38;2;66;123;88m=[38;2;40;40;40m CONSTANT_POOL_KIND_CLASS_INFO,[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5314[34m│[48;2;208;255;208;38;2;40;40;40m        .[38;2;7;102;120mv[38;2;40;40;40m [38;2;66;123;88m=[38;2;40;40;40m {[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5315[34m│[48;2;208;255;208;38;2;40;40;40m            .[38;2;7;102;120mclass_name[38;2;40;40;40m [38;2;66;123;88m=[38;2;40;40;40m function_args_string,[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5316[34m│[48;2;208;255;208;38;2;40;40;40m        }};[0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5317[34m│[48;2;208;255;208;38;2;40;40;40m    [38;2;157;0;6mconst[38;2;40;40;40m u16 functions_args_class_i [38;2;66;123;88m=[38;2;40;40;40m [38;2;66;123;88mcf_constant_array_push[38;2;40;40;40m([0m[48;2;208;255;208m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5318[34m│[48;2;208;255;208;38;2;40;40;40m        [38;2;66;123;88m&[38;2;40;40;40mclass_file->constant_pool, [38;2;66;123;88m&[38;2;40;40;40mfunctions_args_class);[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m5310[34m⋮[38;2;68;68;68m5319[34m│[38;2;40;40;40m    cf_verification_info_t verification_info [38;2;66;123;88m=[38;2;40;40;40m {[0m
[34m[38;2;68;68;68m5311[34m⋮[38;2;68;68;68m5320[34m│[38;2;40;40;40m        .[38;2;7;102;120mkind[38;2;40;40;40m [38;2;66;123;88m=[38;2;40;40;40m VERIFICATION_INFO_OBJECT,[0m
[34m[38;5;88m5312[34m⋮[38;5;28m    [34m│[0m[48;2;255;224;224m        .extra_data = [48;2;255;192;192m0[48;2;255;224;224m,[48;2;255;192;192m // FIXME[0m[48;2;255;224;224m[0K[0m
[34m[38;5;88m    [34m⋮[38;5;28m5321[34m│[48;2;208;255;208;38;2;40;40;40m        .[38;2;7;102;120mextra_data[38;2;40;40;40m [38;2;66;123;88m=[38;2;40;40;40m [48;2;160;239;160mfunctions_args_class_i[48;2;208;255;208m,[0m[48;2;208;255;208m[0K[0m
[34m[38;2;68;68;68m5313[34m⋮[38;2;68;68;68m5322[34m│[38;2;40;40;40m    };[0m
[34m[38;2;68;68;68m5314[34m⋮[38;2;68;68;68m5323[34m│[38;2;40;40;40m    [38;2;157;0;6mconst[38;2;40;40;40m cf_variable_t arg0 [38;2;66;123;88m=[38;2;40;40;40m {[0m
[34m[38;2;68;68;68m5315[34m⋮[38;2;68;68;68m5324[34m│[38;2;40;40;40m        .[38;2;7;102;120mtype_i[38;2;40;40;40m [38;2;66;123;88m=[38;2;40;40;40m main_argument_types_i,[0m
